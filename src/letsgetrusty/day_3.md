# 3 日目

今日はメモリ管理を頑張るぞ！

定期メール

Rust の標準ライブラリが少ないことは周知の事実です。

幸運なことに、そのギャップを埋めるために crates.io で多くの crate がフリーで提供されています。

今週は、あなたのツールボックスに追加するための 5 つの素晴らしいクレートを紹介したいと思います。

Serde

Serde は、Rust データ構造を効率的かつ汎用的にシリアライズ/デシリアライズするためのフレームワークです。serde を使えば、JSON データをシリアライズ/デシリアライズすることができます。

Anyhow と thiserror

Anyhow は、Rust アプリケーションで簡単に慣用的なエラーハンドリングを提供します。呼び出し側が特定のエラータイプの処理にこだわらない場合、anyhow を使用します。

thiserror は、標準ライブラリの std::error::Error トレイトに対する便利な派生マクロを提供します。呼び出し元が異なる処理を行うべきカスタムエラー型を返したい場合に、thiserror を使用します。

reqwest

Reqwest は、使いやすく、十分な機能を備えた HTTP クライアントです。

クラップ

Clap は、完全な機能を備えたコマンドライン引数パーサーです。このクレートは CLI アプリケーションを構築する際に非常に便利です。

今のところ、これで終わりです。Rusty のままでいてください。

基本的にコンピュータのリソースは2つに分かれます。

1. Computation(計算領域)
   1. CPU
2. メモリ
   1. 永続的なメモリ
   2. 揮発性のメモリ領域

特徴としては

1. 永続性のあるメモリ（Persistent Storage）
   1. SSDのような領域
   2. 速度は遅く
   3. 容量が多く
   4. データの永続化に使用します。
2. 揮発性のあるメモリ（Volatile Storage）
   1. 速度が速く
   2. 量が少なく
   3. プログラムが実行される時に処理される

- Stack のメモリ領域
- Heep のメモリ領域
- Static のメモリ領域



1. Stack
   1. 関数の引数
   2. ローカル変数
   3. コンパイル時にサイズがわかっている
   4. メモリは動的に変更するが、上限は固定されます
   5. 関数のライフタイムが存在する
   6. メモリの解放は自動的で関数のリターンの時に解放する
2. Heap
   1. 関数のライフタイムを超えて生きる値
   2. 複数のスレッドからアクセスされる値
   3. 大きな値
   4. コンパイル時にサイズ不明
   5. メモリのサイズは動的
   6. ライフタイムはプログラマによって決定される
   7. メモリの解放はマニュアル
3. Static
   1. プログラムのバイナリ
   2. 静的変数
   3. 文字列リテラル
   4. メモリサイズは固定
   5. ライフタイムはプログラムの全体の寿命
   6. メモリの解放は、自動的。プログラムが終了したとき（まぁ全体で影響範囲があるからね。）